<!DOCTYPE html>
<html>
<head>
<title>Twitter Dashboard group 5 UTWENTE</title>
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Pacifico" />
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Raleway" />
<link rel="stylesheet" href="/style/layout.css"/>
<link rel="stylesheet" href="/style/theme.css"/>
<script src="/lib/jquery-2.1.1.min.js"></script>
<script src="/lib/jquery.flot.min.js"></script>
<script src="/lib/core.js"></script>
<script src="/lib/charts.js"></script>
<script src="/lib/log.js"></script>
<script src="/lib/tweets.js"></script>
<script src="/lib/form.js"></script>
<style>
body {
background-color: #00aced;
}
</style>
</head>
<body class="container_12">
<h1 align="center">Batavierenrace 2017</h1>
<table style="width:100%">
<tr>
<td>
<h2 align="center">Tweets from the race</h2><p>
<div id="tweet" class="grid_7 vert_10"></div>
</td>
<td>
<h2 align="center">Tweets from the organisation</h2><p>
<div id="swag" class="grid_7 vert_10"></div>
</td>
<td>
<h2 align="center">Tweets with filter</h2><p>
<div id='pinda' class='grid_6 vert_10'>
<div id='filter' class='grid_6 ver_1'>
<form>
    <textarea name='word' style='width: 100%'></textarea>
    <input type='submit' value='filter on a word'/>
</form>
</div>
<div id="sweg" class="grid_6 vert_9"></div>
</div>
</td>
<td>
<h2 align="center">Rank of your university</h2><p>
<div id="swel" bgcolor="#FFFFFF" class="grid_3 vert_10">
<p id="test"></p>
<table id="rank">
  <tr>
    <th>Points</th>
    <th>University</th>
  </tr>
  <tr>
    <td id = "r0p"></td>
    <td id = "r0u"></td>
  </tr>
  <tr>
    <td id = "r1p"></td>
    <td id = "r1u"></td>
  </tr>
    <tr>
    <td id = "r2p"></td>
    <td id = "r2u"></td>
  </tr>
  <tr>
    <td id = "r3p"></td>
    <td id = "r3u"></td>
  </tr>
  <tr>
    <td id = "r4p"></td>
    <td id = "r4u"></td>
  </tr>
  <tr>
    <td id = "r5p"></td>
    <td id = "r5u"></td>
  </tr>
  <tr>
    <td id = "r6p"></td>
    <td id = "r6u"></td>
  </tr>
  <tr>
    <td id = "r7p"></td>
    <td id = "r7u"></td>
  </tr>
  <tr>
    <td id = "r8p"></td>
    <td id = "r8u"></td>
  </tr>
  <tr>
    <td id = "r9p"></td>
    <td id = "r9u"></td>
  </tr>
  <tr>
    <td id = "r10p"></td>
    <td id = "r10u"></td>
  </tr>
  <tr>
    <td id = "r11p"></td>
    <td id = "r11u"></td>
  </tr>
  <tr>
    <td id = "r12p"></td>
    <td id = "r12u"></td>
  </tr>
</table>
</div>
</td>
</tr>
</table>

<script>
block('#tweet').tweets({
    memory: 1000000

});

// connect sample event to tweet list
events.connect('tweet', '#tweet');
</script>
<script>
block('#swag').tweets({
    memory: 10
    
})
events.connect('swag','#swag');
</script>
<script>
block('#sweg').tweets({
    memory: 800
    
})
events.connect('swek','#sweg');
</script>
<script>
var eventSource = new EventSource('/events');
eventSource.addEventListener("ranking", function(e) {
    ranking = JSON.parse(e.data)["text"]
    console.log(ranking)
    document.getElementById("r0p").innerHTML = ranking[0][0]
	document.getElementById("r0u").innerHTML = ranking[0][1]
	document.getElementById("r1p").innerHTML = ranking[1][0]
	document.getElementById("r1u").innerHTML = ranking[1][1]
	document.getElementById("r2p").innerHTML = ranking[2][0]
	document.getElementById("r2u").innerHTML = ranking[2][1]
	document.getElementById("r3p").innerHTML = ranking[3][0]
	document.getElementById("r3u").innerHTML = ranking[3][1]
	document.getElementById("r4p").innerHTML = ranking[4][0]
	document.getElementById("r4u").innerHTML = ranking[4][1]
	document.getElementById("r5p").innerHTML = ranking[5][0]
	document.getElementById("r5u").innerHTML = ranking[5][1]
	document.getElementById("r6p").innerHTML = ranking[6][0]
	document.getElementById("r6u").innerHTML = ranking[6][1]
	document.getElementById("r7p").innerHTML = ranking[7][0]
	document.getElementById("r7u").innerHTML = ranking[7][1]
	document.getElementById("r8p").innerHTML = ranking[8][0]
	document.getElementById("r8u").innerHTML = ranking[8][1]
	document.getElementById("r9p").innerHTML = ranking[9][0]
	document.getElementById("r9u").innerHTML = ranking[9][1]
	document.getElementById("r10p").innerHTML = ranking[10][0]
	document.getElementById("r10u").innerHTML = ranking[10][1]
	document.getElementById("r11p").innerHTML = ranking[11][0]
	document.getElementById("r11u").innerHTML = ranking[11][1]
	document.getElementById("r12p").innerHTML = ranking[12][0]
	document.getElementById("r12u").innerHTML = ranking[12][1]
}, false)
function updatetable(ranking){

}
</script>
<script> 
block('#filter').form({
target: '/api/word'
});
</script>
</body>
</html>
